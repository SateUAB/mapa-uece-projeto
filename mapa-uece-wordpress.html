<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapa UAB/UECE - Campi no Ceará</title>
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        .header {
            background-color: #16a34a;
            color: white;
            padding: 1rem;
            text-align: center;
        }
        
        .header h1 {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        
        .container {
            display: flex;
            height: 600px;
        }
        
        .map-container {
            flex: 1;
            position: relative;
        }
        
        #map {
            height: 100%;
            width: 100%;
        }
        
        .sidebar {
            width: 320px;
            background: white;
            border-left: 1px solid #d1d5db;
            padding: 1rem;
            overflow-y: auto;
        }
        
        .sidebar h2 {
            color: #15803d;
            font-size: 1.25rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }
        
        .polo-selected {
            background-color: #dcfce7;
            border: 1px solid #bbf7d0;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .polo-selected h3 {
            color: #166534;
            font-size: 1.125rem;
            font-weight: bold;
            margin-bottom: 0.75rem;
        }
        
        .polo-selected .courses-label {
            color: #374151;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .polo-selected ul {
            list-style-type: disc;
            list-style-position: inside;
            color: #6b7280;
            font-size: 0.875rem;
        }
        
        .polo-selected li {
            margin-bottom: 0.25rem;
        }
        
        .instruction {
            background-color: #dbeafe;
            border: 1px solid #bfdbfe;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 1.5rem;
            color: #1d4ed8;
        }
        
        .accordion {
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            overflow: hidden;
        }
        
        .accordion-item {
            border-bottom: 1px solid #e5e7eb;
        }
        
        .accordion-item:last-child {
            border-bottom: none;
        }
        
        .accordion-header {
            background-color: #f9fafb;
            padding: 0.75rem 1rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.2s;
        }
        
        .accordion-header:hover {
            background-color: #f3f4f6;
        }
        
        .accordion-header.active {
            background-color: #dcfce7;
            color: #15803d;
        }
        
        .accordion-title {
            font-weight: 600;
            color: #15803d;
            font-size: 0.875rem;
        }
        
        .accordion-count {
            color: #6b7280;
            font-size: 0.75rem;
        }
        
        .accordion-icon {
            transition: transform 0.2s;
            color: #6b7280;
        }
        
        .accordion-icon.rotated {
            transform: rotate(180deg);
        }
        
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
            background-color: white;
        }
        
        .accordion-content.expanded {
            max-height: 500px;
        }
        
        .accordion-body {
            padding: 1rem;
            border-top: 1px solid #e5e7eb;
        }
        
        .course-list {
            list-style-type: disc;
            list-style-position: inside;
            color: #6b7280;
            font-size: 0.875rem;
        }
        
        .course-list li {
            margin-bottom: 0.25rem;
        }
        
        .leaflet-popup-content {
            margin: 8px 12px;
        }
        
        .popup-title {
            color: #15803d;
            font-weight: bold;
            font-size: 1.125rem;
            margin-bottom: 0.5rem;
        }
        
        .popup-courses-label {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }
        
        .popup-courses {
            list-style-type: disc;
            list-style-position: inside;
            font-size: 0.875rem;
            margin-top: 0.25rem;
        }
        
        .popup-courses li {
            margin-bottom: 0.125rem;
        }
        
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
                height: auto;
            }
            
            .map-container {
                height: 400px;
            }
            
            .sidebar {
                width: 100%;
                border-left: none;
                border-top: 1px solid #d1d5db;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Mapa UAB/UECE</h1>
        <p>Polos onde a UECE tem cursos no Ceará</p>
    </div>
    
    <div class="container">
        <div class="map-container">
            <div id="map"></div>
        </div>
        
        <div class="sidebar">
            <h2>Polos UECE</h2>
            
            <div id="polo-list" class="accordion">
                <!-- Acordeão de polos será preenchido via JavaScript -->
            </div>
        </div>
    </div>
    
    <!-- Leaflet JavaScript -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <script>
        // Dados dos polos da UECE
        const polosUECE = [
    {
        "polo": "AMONTADA",
        "lat": -3.36,
        "lng": -39.83,
        "cursos": [
            "CULTURA OCEÂNICA E SUSTENTABILIDADE",
            "EDUCAÇÃO E DIVERSIDADES",
            "GEOGRAFIA",
            "GOVERNANÇA GLOBAL, DESENVOLVIMENTO SUSTENTÁVEL E COMUNIDADES TRADICIONAIS",
            "TECNÓLOGO EM TURISMO COMUNITÁRIO"
        ]
    },
    {
        "polo": "AQUIRAZ",
        "lat": -3.9,
        "lng": -38.39,
        "cursos": [
            "ALFABETIZAÇÃO E MULTILETRAMENTOS",
            "COMPUTACAO",
            "CULTURA OCEÂNICA E SUSTENTABILIDADE",
            "GOVERNANÇA GLOBAL, DESENVOLVIMENTO SUSTENTÁVEL E COMUNIDADES TRADICIONAIS",
            "TECNÓLOGO EM TURISMO COMUNITÁRIO"
        ]
    },
    {
        "polo": "ARACATI",
        "lat": -4.56,
        "lng": -37.77,
        "cursos": [
            "AUDITORIA E CONTROLE INTERNO",
            "GOVERNANÇA GLOBAL, DESENVOLVIMENTO SUSTENTÁVEL E COMUNIDADES TRADICIONAIS",
            "TECNÓLOGO EM TURISMO COMUNITÁRIO"
        ]
    },
    {
        "polo": "ARACOIABA",
        "lat": -4.37,
        "lng": -38.81,
        "cursos": [
            "EDUCAÇÃO FÍSICA",
            "HISTÓRIA",
            "TRADUÇÃO AUDIOVISUAL ACESSÍVEL/ LEGENDAGEM P/SURDOS E ENSURDECIDOS"
        ]
    },
    {
        "polo": "ASSARÉ",
        "lat": -6.87,
        "lng": -39.87,
        "cursos": [
            "TURISMO COM HABILITAÇÃO EM BASE COMUNITÁRIA"
        ]
    },
    {
        "polo": "BATURITÉ",
        "lat": -4.33,
        "lng": -38.88,
        "cursos": [
            "ALFABETIZAÇÃO E MULTILETRAMENTOS"
        ]
    },
    {
        "polo": "BEBERIBE",
        "lat": -4.18,
        "lng": -38.13,
        "cursos": [
            "ALFABETIZAÇÃO E MULTILETRAMENTOS",
            "CIÊNCIAS BIOLÓGICAS",
            "CIÊNCIAS CONTÁBEIS",
            "COMPUTAÇÃO",
            "CULTURA OCEÂNICA E SUSTENTABILIDADE",
            "EDUCAÇÃO FÍSICA",
            "GOVERNANÇA GLOBAL, DESENVOLVIMENTO SUSTENTÁVEL E COMUNIDADES TRADICIONAIS",
            "HISTÓRIA",
            "PEDAGOGIA",
            "QUÍMICA",
            "TECNÓLOGO EM TURISMO COMUNITÁRIO",
            "TRADUÇÃO AUDIOVISUAL ACESSÍVEL/ LEGENDAGEM P/SURDOS E ENSURDECIDOS"
        ]
    },
    {
        "polo": "BOA VIAGEM",
        "lat": -5.12,
        "lng": -39.73,
        "cursos": [
            "ENSINO DE MATEMÁTICA",
            "GESTÃO PÚBLICA MUNICIPAL"
        ]
    },
    {
        "polo": "CAMOCIM",
        "lat": -2.9,
        "lng": -40.84,
        "cursos": [
            "CIENCIAS BIOLOGICAS",
            "CULTURA OCEÂNICA E SUSTENTABILIDADE",
            "GOVERNANÇA GLOBAL, DESENVOLVIMENTO SUSTENTÁVEL E COMUNIDADES TRADICIONAIS",
            "QUÍMICA",
            "TECNÓLOGO EM TURISMO COMUNITÁRIO"
        ]
    },
    {
        "polo": "CAMPOS SALES",
        "lat": -7.07,
        "lng": -40.37,
        "cursos": [
            "ENSINO DE MATEMÁTICA"
        ]
    },
    {
        "polo": "CANINDÉ",
        "lat": -4.35,
        "lng": -39.31,
        "cursos": [
            "EDUCAÇÃO E DIVERSIDADES",
            "EDUCAÇÃO FÍSICA E ESPORTE PARA PESSOAS COM DEFICIÊNCIA",
            "HISTÓRIA",
            "QUÍMICA",
            "TRADUÇÃO AUDIOVISUAL ACESSÍVEL/ LEGENDAGEM P/SURDOS E ENSURDECIDOS"
        ]
    },
    {
        "polo": "CASCAVEL",
        "lat": -4.13,
        "lng": -38.24,
        "cursos": [
            "HISTORIA",
            "LETRAS/LITERATURA",
            "PEDAGOGIA"
        ]
    },
    {
        "polo": "CAUCAIA - ARATURI",
        "lat": -3.7684372,
        "lng": -38.6383563,
        "cursos": [
            "ALFABETIZAÇÃO E MULTILETRAMENTOS", "CIÊNCIAS BIOLÓGICAS", "EDUCAÇÃO FÍSICA", "HISTÓRIA", "PEDAGOGIA"
        ]
    },
    {
        "polo": "CAUCAIA - ITAMBÉ",
        "lat": -3.7319255,
        "lng": -38.6524174,
        "cursos": [
            "ADMINISTRAÇÃO PÚBLICA", "CIÊNCIAS CONTÁBEIS", "COMPUTAÇÃO", "GESTÃO PÚBLICA MUNICIPAL", "LETRAS/PORTUGUES"
        ]
    },
    {
        "polo": "CAUCAIA - NOVO PABUSSU",
        "lat": -3.7296388,
        "lng": -38.6666252,
        "cursos": [
            "CIÊNCIAS BIOLÓGICAS", "COMPUTAÇÃO", "EDUCAÇÃO E DIVERSIDADES", "GOVERNANÇA GLOBAL", "DESENVOLVIMENTO SUSTENTÁVEL E COMUNIDADES TRADICIONAIS", "QUÍMICA"
        ]
    },
    {
        "polo": "CRATEÚS",
        "lat": -5.17,
        "lng": -40.67,
        "cursos": [
            "AUDITORIA E CONTROLE INTERNO",
            "GESTÃO ESCOLAR - PNAP"
        ]
    },
    {
        "polo": "FORTALEZA",
        "lat": -3.72,
        "lng": -38.52,
        "cursos": [
            "ADMINISTRAÇÃO PÚBLICA",
            "ARTES VISUAIS",
            "CIÊNCIA É 10! - PROJETO NACIONAL",
            "CIÊNCIAS BIOLÓGICAS",
            "CULTURA OCEÂNICA E SUSTENTABILIDADE",
            "EDUCAÇÃO FÍSICA",
            "EDUCAÇÃO FÍSICA E ESPORTE PARA PESSOAS COM DEFICIÊNCIA",
            "GESTÃO DA ESCOLA PÚBLICA DE ENSINO MÉDIO – GEPEM",
            "GESTÃO PÚBLICA MUNICIPAL",
            "GOVERNANÇA GLOBAL, DESENVOLVIMENTO SUSTENTÁVEL E COMUNIDADES TRADICIONAIS"
        ]
    },
    {
        "polo": "GRANJA",
        "lat": -3.12,
        "lng": -40.82,
        "cursos": [
            "GESTÃO PÚBLICA MUNICIPAL"
        ]
    },
    {
        "polo": "HORIZONTE",
        "lat": -4.09,
        "lng": -38.49,
        "cursos": [
            "CONTROLADORIA PÚBLICA",
            "GEOGRAFIA",
            "HISTORIA"
        ]
    },
    {
        "polo": "ICÓ",
        "lat": -6.4,
        "lng": -38.86,
        "cursos": [
            "GEOGRAFIA",
            "PEDAGOGIA"
        ]
    },
    {
        "polo": "IGUATU",
        "lat": -6.36,
        "lng": -39.29,
        "cursos": [
            "ADMINISTRAÇÃO PÚBLICA",
            "CIÊNCIAS CONTÁBEIS",
            "COMPUTAÇÃO",
            "EDUCAÇÃO FÍSICA E ESPORTE PARA PESSOAS COM DEFICIÊNCIA",
            "GEOGRAFIA",
            "HISTORIA",
            "LETRAS/LITERATURA",
            "TRADUÇÃO AUDIOVISUAL ACESSÍVEL/ LEGENDAGEM P/SURDOS E ENSURDECIDOS"
        ]
    },
    {
        "polo": "ITAPIPOCA",
        "lat": -3.49,
        "lng": -39.58,
        "cursos": [
            "ADMINISTRAÇÃO PÚBLICA",
            "CIÊNCIAS CONTÁBEIS",
            "CULTURA OCEÂNICA E SUSTENTABILIDADE",
            "GESTÃO DA ESCOLA PÚBLICA DE ENSINO MÉDIO – GEPEM",
            "GESTÃO EM SAÚDE",
            "GESTÃO ESCOLAR - PNAP",
            "GESTÃO PÚBLICA - PNAP",
            "GOVERNANÇA GLOBAL, DESENVOLVIMENTO SUSTENTÁVEL E COMUNIDADES TRADICIONAIS"
        ]
    },
    {
        "polo": "ITAREMA",
        "lat": -2.92,
        "lng": -39.91,
        "cursos": [
            "CULTURA OCEÂNICA E SUSTENTABILIDADE",
            "GOVERNANÇA GLOBAL, DESENVOLVIMENTO SUSTENTÁVEL E COMUNIDADES TRADICIONAIS",
            "HISTÓRIA"
        ]
    },
    {
        "polo": "JAGUARIBE",
        "lat": -5.89,
        "lng": -38.62,
        "cursos": [
            "ADMINISTRAÇÃO PÚBLICA",
            "ARTES VISUAIS",
            "AUDITORIA E CONTROLE INTERNO",
            "CIÊNCIAS BIOLÓGICAS",
            "CIÊNCIAS CONTÁBEIS",
            "COMPUTACAO",
            "LETRAS/PORTUGUES",
            "TRADUÇÃO AUDIOVISUAL ACESSÍVEL/ LEGENDAGEM P/SURDOS E ENSURDECIDOS"
        ]
    },
    {
        "polo": "JUAZEIRO DO NORTE",
        "lat": -7.21,
        "lng": -39.31,
        "cursos": [
            "CONTABILIDADE PÚBLICA",
            "GESTÃO DA ESCOLA PÚBLICA DE ENSINO MÉDIO – GEPEM",
            "GESTÃO PÚBLICA MUNICIPAL"
        ]
    },
    {
        "polo": "LAVRAS DA MANGABEIRA",
        "lat": -6.75,
        "lng": -38.96,
        "cursos": [
            "GESTÃO EM SAÚDE"
        ]
    },
    {
        "polo": "LIMOEIRO DO NORTE",
        "lat": -5.14,
        "lng": -38.09,
        "cursos": [
            "ADMINISTRAÇÃO PÚBLICA",
            "CIÊNCIAS CONTÁBEIS",
            "COMPUTACAO",
            "ENSINO DE MATEMÁTICA",
            "TURISMO COM HABILITAÇÃO EM BASE COMUNITÁRIA"
        ]
    },
    {
        "polo": "MADALENA",
        "lat": -4.85,
        "lng": -39.67,
        "cursos": [
            "GEOGRAFIA",
            "MATEMATICA"
        ]
    },
    {
        "polo": "MARACANAÚ",
        "lat": -3.87,
        "lng": -38.62,
        "cursos": [
            "ADMINISTRAÇÃO PÚBLICA",
            "ARTES VISUAIS",
            "CONTROLADORIA PÚBLICA",
            "EDUCAÇÃO E DIVERSIDADES",
            "PEDAGOGIA"
        ]
    },
    {
        "polo": "MARANGUAPE",
        "lat": -3.89,
        "lng": -38.68,
        "cursos": [
            "ADMINISTRAÇÃO PÚBLICA",
            "CIÊNCIAS BIOLÓGICAS",
            "CONTABILIDADE PÚBLICA",
            "EDUCAÇÃO FÍSICA",
            "EDUCAÇÃO FÍSICA E ESPORTE PARA PESSOAS COM DEFICIÊNCIA",
            "GESTÃO ESCOLAR - PNAP",
            "HISTORIA"
        ]
    },
    {
        "polo": "MAURITI",
        "lat": -7.39,
        "lng": -38.77,
        "cursos": [
            "ENSINO DE MATEMÁTICA",
            "MATEMATICA",
            "PEDAGOGIA"
        ]
    },
    {
        "polo": "MERUOCA",
        "lat": -3.54,
        "lng": -40.45,
        "cursos": [
            "CONTROLADORIA PÚBLICA",
            "TURISMO COM HABILITAÇÃO EM BASE COMUNITÁRIA"
        ]
    },
    {
        "polo": "MOMBAÇA",
        "lat": -5.74,
        "lng": -39.62,
        "cursos": [
            "AUDITORIA E CONTROLE INTERNO",
            "GESTÃO PÚBLICA - PNAP"
        ]
    },
    {
        "polo": "MORADA NOVA",
        "lat": -5.1,
        "lng": -38.37,
        "cursos": [
            "MATEMATICA",
            "PEDAGOGIA"
        ]
    },
    {
        "polo": "NOVA RUSSAS",
        "lat": -4.7,
        "lng": -40.56,
        "cursos": [
            "LETRAS/LITERATURA"
        ]
    },
    {
        "polo": "ORÓS",
        "lat": -6.24,
        "lng": -38.91,
        "cursos": [
            "COMPUTAÇÃO",
            "CONTABILIDADE PÚBLICA",
            "ENSINO DE MATEMÁTICA",
            "HISTORIA",
            "QUÍMICA"
        ]
    },
    {
        "polo": "PACOTI",
        "lat": -4.22,
        "lng": -38.92,
        "cursos": [
            "ALFABETIZAÇÃO E MULTILETRAMENTOS",
            "CONTABILIDADE PÚBLICA",
            "GESTÃO ESCOLAR - PNAP",
            "MATEMATICA",
            "TURISMO COM HABILITAÇÃO EM BASE COMUNITÁRIA"
        ]
    },
    {
        "polo": "PARAMBU",
        "lat": -6.21,
        "lng": -40.69,
        "cursos": [
            "ALFABETIZAÇÃO E MULTILETRAMENTOS",
            "CIÊNCIA É 10! - PROJETO NACIONAL",
            "CONTROLADORIA PÚBLICA",
            "MATEMATICA"
        ]
    },
    {
        "polo": "PEDRA BRANCA",
        "lat": -5.45,
        "lng": -39.71,
        "cursos": [
            "CIÊNCIA É 10! - PROJETO NACIONAL",
            "CONTROLADORIA PÚBLICA",
            "GESTÃO ESCOLAR - PNAP",
            "PEDAGOGIA"
        ]
    },
    {
        "polo": "PIQUET CARNEIRO",
        "lat": -5.31,
        "lng": -39.4,
        "cursos": [
            "CIÊNCIA É 10! - PROJETO NACIONAL",
            "CONTABILIDADE PÚBLICA"
        ]
    },
    {
        "polo": "PIRES FERREIRA",
        "lat": -4.25,
        "lng": -40.63,
        "cursos": [
            "LETRAS/LITERATURA"
        ]
    },
    {
        "polo": "QUIXADÁ",
        "lat": -4.97,
        "lng": -39.01,
        "cursos": [
            "ARTES VISUAIS",
            "EDUCACAO FISICA",
            "EDUCAÇÃO FÍSICA",
            "GESTÃO PÚBLICA - PNAP"
        ]
    },
    {
        "polo": "QUIXERAMOBIM",
        "lat": -5.19,
        "lng": -39.29,
        "cursos": [
            "CIENCIAS BIOLOGICAS",
            "COMPUTACAO",
            "EDUCACAO FISICA",
            "GESTÃO EM SAÚDE"
        ]
    },
    {
        "polo": "RUSSAS",
        "lat": -4.94,
        "lng": -38.13,
        "cursos": [
            "ADMINISTRAÇÃO PÚBLICA",
            "CIENCIAS BIOLOGICAS",
            "CIÊNCIAS CONTÁBEIS",
            "EDUCAÇÃO E DIVERSIDADES",
            "EDUCAÇÃO FÍSICA E ESPORTE PARA PESSOAS COM DEFICIÊNCIA",
            "GESTÃO DA ESCOLA PÚBLICA DE ENSINO MÉDIO – GEPEM",
            "GESTÃO EM SAÚDE",
            "GESTÃO PÚBLICA - PNAP"
        ]
    },
    {
        "polo": "SANTA QUITÉRIA",
        "lat": -4.33,
        "lng": -40.15,
        "cursos": [
            "EDUCACAO FISICA",
            "GEOGRAFIA"
        ]
    },
    {
        "polo": "SOBRAL",
        "lat": -3.68,
        "lng": -40.34,
        "cursos": [
            "CIENCIAS BIOLOGICAS",
            "GESTÃO DA ESCOLA PÚBLICA DE ENSINO MÉDIO – GEPEM"
        ]
    },
    {
        "polo": "SÃO GONÇALO DO AMARANTE",
        "lat": -3.6,
        "lng": -38.96,
        "cursos": [
            "CULTURA OCEÂNICA E SUSTENTABILIDADE",
            "GEOGRAFIA",
            "GESTÃO PÚBLICA MUNICIPAL",
            "HISTÓRIA"
        ]
    },
    {
        "polo": "TABULEIRO DO NORTE",
        "lat": -5.25,
        "lng": -38.12,
        "cursos": [
            "GESTÃO ESCOLAR - PNAP",
            "GESTÃO PÚBLICA - PNAP"
        ]
    },
    {
        "polo": "TAUÁ",
        "lat": -5.97,
        "lng": -40.29,
        "cursos": [
            "ADMINISTRAÇÃO PÚBLICA",
            "CIÊNCIAS CONTÁBEIS",
            "LETRAS/PORTUGUES"
        ]
    },
    {
        "polo": "TIANGUA",
        "lat": -3.73,
        "lng": -40.99,
        "cursos": [
            "LETRAS/PORTUGUES",
            "MATEMATICA"
        ]
    },
    {
        "polo": "TRAIRI",
        "lat": -3.27,
        "lng": -39.26,
        "cursos": [
            "AUDITORIA E CONTROLE INTERNO"
        ]
    },
    {
        "polo": "UBAJARA",
        "lat": -3.85,
        "lng": -40.92,
        "cursos": [
            "EDUCACAO FISICA"
        ]
    }
];

        // Inicializa o mapa
        const map = L.map('map').setView([-5.0, -39.5], 7);

        // Adiciona o tile layer (mapa base)
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        const poloList = document.getElementById('polo-list');
        const markers = {};

        // Função para criar o conteúdo do popup
        function createPopupContent(polo) {
            let coursesList = polo.cursos.map(curso => `<li>${curso}</li>`).join('');
            return `
                <div class="popup-title">${polo.polo}</div>
                <div class="popup-courses-label">Cursos oferecidos:</div>
                <ul class="popup-courses">${coursesList}</ul>
            `;
        }

        // Função para criar o acordeão e os marcadores
        function createAccordionAndMarkers() {
            poloList.innerHTML = ''; // Limpa a lista antes de recriar

            polosUECE.forEach(polo => {
                // Adiciona marcador ao mapa
                const marker = L.marker([polo.lat, polo.lng]).addTo(map)
                    .bindPopup(createPopupContent(polo));
                
                markers[polo.polo] = marker;

                // Cria item do acordeão
                const accordionItem = document.createElement('div');
                accordionItem.className = 'accordion-item';
                accordionItem.setAttribute('data-polo', polo.polo);

                const accordionHeader = document.createElement('div');
                accordionHeader.className = 'accordion-header';
                accordionHeader.innerHTML = `
                    <span class="accordion-title">${polo.polo}</span>
                    <span class="accordion-count">${polo.cursos.length} curso(s)</span>
                    <span class="accordion-icon">&#9660;</span>
                `;

                const accordionContent = document.createElement('div');
                accordionContent.className = 'accordion-content';

                const accordionBody = document.createElement('div');
                accordionBody.className = 'accordion-body';
                
                const courseList = document.createElement('ul');
                courseList.className = 'course-list';
                courseList.innerHTML = polo.cursos.map(curso => `<li>${curso}</li>`).join('');
                
                accordionBody.appendChild(courseList);
                accordionContent.appendChild(accordionBody);
                accordionItem.appendChild(accordionHeader);
                accordionItem.appendChild(accordionContent);
                poloList.appendChild(accordionItem);

                // Evento de clique no header do acordeão
                accordionHeader.addEventListener('click', () => {
                    toggleAccordion(accordionItem);
                    marker.openPopup();
                    map.setView([polo.lat, polo.lng], 10);
                });

                // Evento de clique no marcador
                marker.on('click', () => {
                    const activeItem = document.querySelector('.accordion-item.active');
                    if (activeItem) {
                        toggleAccordion(activeItem, false);
                    }
                    const currentItem = document.querySelector(`.accordion-item[data-polo="${polo.polo}"]`);
                    if (currentItem) {
                        toggleAccordion(currentItem, true);
                    }
                });
            });
        }

        // Função para abrir/fechar o acordeão
        function toggleAccordion(item, forceOpen = false) {
            const content = item.querySelector('.accordion-content');
            const icon = item.querySelector('.accordion-icon');
            const isActive = item.classList.contains('active');

            if (forceOpen && !isActive) {
                item.classList.add('active');
                content.style.maxHeight = content.scrollHeight + 'px';
                icon.classList.add('rotated');
                item.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            } else if (!forceOpen) {
                if (isActive) {
                    item.classList.remove('active');
                    content.style.maxHeight = null;
                    icon.classList.remove('rotated');
                } else {
                    // Fecha outros itens abertos
                    const activeItem = document.querySelector('.accordion-item.active');
                    if (activeItem) {
                        activeItem.classList.remove('active');
                        activeItem.querySelector('.accordion-content').style.maxHeight = null;
                        activeItem.querySelector('.accordion-icon').classList.remove('rotated');
                    }
                    
                    item.classList.add('active');
                    content.style.maxHeight = content.scrollHeight + 'px';
                    icon.classList.add('rotated');
                    item.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                }
            }
        }

        // Inicializa o mapa e o acordeão
        createAccordionAndMarkers();

    </script>
</body>
</html>
</html>
</html>


